{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "swiss-stage",
  "title": "Swiss Stage",
  "description": "Swiss system bracket with round-by-round matches and standings table.",
  "dependencies": [
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "match-card"
  ],
  "files": [
    {
      "path": "registry/bracketcore/swiss-stage.tsx",
      "content": "import type { SwissBracket, Match } from \"./bracket-types\";\nimport { MatchCard } from \"./match-card\";\nimport { cn } from \"./cn\";\n\nexport interface SwissStageProps {\n  bracket: SwissBracket;\n  className?: string;\n  onMatchClick?: (match: Match) => void;\n}\n\nfunction StandingsTable({ bracket }: { bracket: SwissBracket }) {\n  return (\n    <table className=\"w-full text-sm\">\n      <thead>\n        <tr className=\"border-b border-border text-muted-foreground\">\n          <th className=\"text-left py-2 px-3 font-medium\">#</th>\n          <th className=\"text-left py-2 px-3 font-medium\">Team</th>\n          <th className=\"text-center py-2 px-3 font-medium\">W</th>\n          <th className=\"text-center py-2 px-3 font-medium\">L</th>\n          <th className=\"text-left py-2 px-3 font-medium\">Status</th>\n        </tr>\n      </thead>\n      <tbody>\n        {bracket.standings.map((s, i) => (\n          <tr key={s.team.id} className=\"border-b border-border last:border-0\">\n            <td className=\"py-2 px-3 text-muted-foreground\">{i + 1}</td>\n            <td className=\"py-2 px-3 flex items-center gap-2\">\n              {s.team.logo && (\n                <img\n                  src={s.team.logo}\n                  alt={s.team.name}\n                  className=\"h-4 w-4 object-contain\"\n                />\n              )}\n              <span className={cn(s.status === \"eliminated\" && \"opacity-50\")}>\n                {s.team.name}\n              </span>\n            </td>\n            <td className=\"py-2 px-3 text-center tabular-nums\">{s.wins}</td>\n            <td className=\"py-2 px-3 text-center tabular-nums\">{s.losses}</td>\n            <td className=\"py-2 px-3\">\n              {s.status === \"advancing\" && (\n                <span className=\"text-emerald-500 text-xs font-medium\">\n                  Advanced\n                </span>\n              )}\n              {s.status === \"eliminated\" && (\n                <span className=\"text-red-500 text-xs font-medium\">\n                  Eliminated\n                </span>\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nexport function SwissStage({\n  bracket,\n  className,\n  onMatchClick,\n}: SwissStageProps) {\n  return (\n    <div className={cn(\"flex flex-col gap-8 p-4\", className)}>\n      <div className=\"flex gap-6 overflow-x-auto\">\n        {bracket.rounds.map((round) => (\n          <div key={round.name} className=\"flex flex-col gap-2 min-w-fit\">\n            <div className=\"flex items-center gap-2\">\n              <h3 className=\"text-sm font-medium text-muted-foreground whitespace-nowrap\">\n                {round.name}\n              </h3>\n              {round.record && (\n                <span className=\"text-xs text-muted-foreground/70\">\n                  {round.record}\n                </span>\n              )}\n            </div>\n            <div className=\"flex flex-col gap-4\">\n              {round.matches.map((match) => (\n                <MatchCard\n                  key={match.id}\n                  match={match}\n                  onMatchClick={onMatchClick}\n                />\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <section className=\"rounded border border-border bg-card\">\n        <h3 className=\"text-sm font-medium px-3 py-2 border-b border-border\">\n          Standings\n        </h3>\n        <StandingsTable bracket={bracket} />\n      </section>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/bracketcore/match-card.tsx",
      "content": "import type { Match, MatchTeam } from \"./bracket-types\";\nimport { cn } from \"./cn\";\n\nexport interface MatchCardProps {\n  match: Match;\n  className?: string;\n  onMatchClick?: (match: Match) => void;\n}\n\nfunction TeamRow({ entry }: { entry: MatchTeam }) {\n  const isWinner = entry.isWinner === true;\n  const isLoser = entry.isWinner === false;\n\n  return (\n    <div\n      className={cn(\n        \"bracket-team-row\",\n        \"flex items-center gap-2 px-2.5 py-1.5\",\n        \"border-l-2\",\n        isWinner && \"border-l-emerald-500 bg-emerald-500/5\",\n        isLoser && \"border-l-red-500/40\",\n        !isWinner && !isLoser && \"border-l-transparent\"\n      )}\n    >\n      <div className=\"flex items-center gap-2 min-w-0 flex-1\">\n        {entry.team?.logo && (\n          <img\n            src={entry.team.logo}\n            alt={entry.team.name}\n            className=\"h-4 w-4 shrink-0 object-contain\"\n          />\n        )}\n        <span\n          className={cn(\n            \"truncate text-sm leading-none\",\n            isWinner && \"font-semibold text-card-foreground\",\n            isLoser && \"text-muted-foreground\",\n            !isWinner && !isLoser && \"text-card-foreground\",\n            !entry.team && \"text-muted-foreground italic\"\n          )}\n        >\n          {entry.team?.name ?? \"TBD\"}\n        </span>\n      </div>\n      <span\n        className={cn(\n          \"text-sm tabular-nums shrink-0 leading-none font-medium\",\n          isWinner && \"text-card-foreground\",\n          isLoser && \"text-muted-foreground\"\n        )}\n      >\n        {entry.score}\n      </span>\n    </div>\n  );\n}\n\nexport function MatchCard({ match, className, onMatchClick }: MatchCardProps) {\n  const bestOfLabel = match.bestOf ? `BO${match.bestOf}` : undefined;\n  const isLive = match.status === \"live\";\n  const showHeader = isLive || match.scheduledAt || bestOfLabel;\n\n  return (\n    <div\n      className={cn(\n        \"bracket-match-card\",\n        \"w-(--bracket-match-width,13rem) rounded-md border\",\n        \"border-border\",\n        \"bg-card\",\n        \"text-card-foreground\",\n        \"shadow-sm overflow-hidden\",\n        onMatchClick && \"cursor-pointer hover:border-primary/50 transition-colors\",\n        className\n      )}\n      onClick={onMatchClick ? () => onMatchClick(match) : undefined}\n    >\n      {showHeader && (\n        <div className=\"flex items-center justify-between px-2.5 py-1 text-xs text-muted-foreground border-b border-border\">\n          <span className=\"flex items-center gap-1.5\">\n            {isLive && (\n              <>\n                <span className=\"relative flex h-2 w-2\">\n                  <span className=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-red-500 opacity-75\" />\n                  <span className=\"relative inline-flex h-2 w-2 rounded-full bg-red-500\" />\n                </span>\n                <span className=\"font-semibold uppercase\">Live</span>\n              </>\n            )}\n            {!isLive && match.scheduledAt && <span>{match.scheduledAt}</span>}\n          </span>\n          {bestOfLabel && <span className=\"ml-auto\">{bestOfLabel}</span>}\n        </div>\n      )}\n      <TeamRow entry={match.teams[0]} />\n      <div className=\"border-t border-border\" />\n      <TeamRow entry={match.teams[1]} />\n    </div>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry/bracketcore/bracket-types.ts",
      "content": "export interface Team {\n  id: string;\n  name: string;\n  logo?: string;\n  seed?: number;\n}\n\nexport interface MatchTeam {\n  team: Team | null;\n  score: number;\n  isWinner?: boolean;\n}\n\nexport interface Match {\n  id: string;\n  /** Round index (0-based) */\n  round: number;\n  /** Position within the round (0-based) */\n  position: number;\n  /** Best-of series count (e.g. 1, 3, 5) */\n  bestOf?: number;\n  /** Scheduled date/time */\n  scheduledAt?: string;\n  /** Status label (e.g. \"Live\", \"Upcoming\") */\n  status?: MatchStatus;\n  teams: [MatchTeam, MatchTeam];\n}\n\nexport type MatchStatus = \"upcoming\" | \"live\" | \"completed\";\n\nexport interface Round {\n  name: string;\n  matches: Match[];\n}\n\n// --- Single Elimination ---\n\nexport interface SingleEliminationBracket {\n  type: \"single-elimination\";\n  rounds: Round[];\n}\n\n// --- Double Elimination ---\n\nexport interface DoubleEliminationBracket {\n  type: \"double-elimination\";\n  upper: Round[];\n  lower: Round[];\n  grandFinal: Match;\n}\n\n// --- Swiss ---\n\nexport interface SwissStanding {\n  team: Team;\n  wins: number;\n  losses: number;\n  /** Buchholz or similar tiebreaker */\n  tiebreaker?: number;\n  status?: \"advancing\" | \"eliminated\" | \"pending\";\n}\n\nexport interface SwissRound {\n  name: string;\n  /** Win-loss record label for this round (e.g. \"1:0\", \"0:1\") */\n  record?: string;\n  matches: Match[];\n}\n\nexport interface SwissBracket {\n  type: \"swiss\";\n  rounds: SwissRound[];\n  standings: SwissStanding[];\n  /** Number of wins to advance */\n  winsToAdvance: number;\n  /** Number of losses to be eliminated */\n  lossesToEliminate: number;\n}\n\n// --- Group Stage ---\n\nexport interface GroupStanding {\n  team: Team;\n  wins: number;\n  losses: number;\n  draws: number;\n  points: number;\n  /** Map/game differential */\n  differential: number;\n}\n\nexport interface Group {\n  name: string;\n  teams: Team[];\n  matches: Match[];\n  standings: GroupStanding[];\n}\n\nexport interface GroupStageBracket {\n  type: \"group-stage\";\n  groups: Group[];\n}\n\n// --- Union type ---\n\nexport type Bracket =\n  | SingleEliminationBracket\n  | DoubleEliminationBracket\n  | SwissBracket\n  | GroupStageBracket;\n",
      "type": "registry:lib"
    },
    {
      "path": "registry/bracketcore/cn.ts",
      "content": "import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n",
      "type": "registry:lib"
    }
  ],
  "type": "registry:component"
}