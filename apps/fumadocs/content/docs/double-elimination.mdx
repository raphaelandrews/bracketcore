---
title: Double Elimination
description: A double elimination bracket using CSS Grid for precise GF alignment.
---

## Preview

<ComponentPreview code={`import { DoubleElimination, type DoubleEliminationBracket, type Match } from "@bracketcore/registry";

function m(
id: string,
round: number,
position: number,
a: string,
sa: number,
b: string,
sb: number,
bo: number,
): Match {
const aWins = sa > sb;
return {
id,
round,
position,
bestOf: bo,
status: "completed",
teams: [
{
team: { id: a.toLowerCase().replace(/\\s+/g, "-"), name: a },
score: sa,
isWinner: aWins,
},
{
team: { id: b.toLowerCase().replace(/\\s+/g, "-"), name: b },
score: sb,
isWinner: !aWins,
},
],
};
}

const bracket: DoubleEliminationBracket = {
type: "double-elimination",
upper: [
{
name: "UB Round 1",
matches: [
m("ub1-1", 0, 0, "Spirit", 2, "Falcons", 0, 3),
m("ub1-2", 0, 1, "Vitality", 2, "The MongolZ", 1, 3),
m("ub1-3", 0, 2, "FURIA", 0, "Natus Vincere", 2, 3),
m("ub1-4", 0, 3, "MOUZ", 1, "FaZe", 2, 3),
],
},
{
name: "UB Semi-final",
matches: [
m("ub2-1", 1, 0, "Spirit", 2, "Vitality", 1, 3),
m("ub2-2", 1, 1, "Natus Vincere", 0, "FaZe", 2, 3),
],
},
{
name: "UB Final",
matches: [m("ub3-1", 2, 0, "Spirit", 2, "FaZe", 1, 3)],
},
],
lower: [
{
name: "LB Round 1",
matches: [
m("lb1-1", 0, 0, "Falcons", 2, "The MongolZ", 0, 3),
m("lb1-2", 0, 1, "FURIA", 1, "MOUZ", 2, 3),
],
},
{
name: "LB Round 2",
matches: [
m("lb2-1", 1, 0, "Vitality", 2, "Falcons", 1, 3),
m("lb2-2", 1, 1, "Natus Vincere", 2, "MOUZ", 0, 3),
],
},
{
name: "LB Semi-final",
matches: [m("lb3-1", 2, 0, "Vitality", 2, "Natus Vincere", 1, 3)],
},
{
name: "LB Final",
matches: [m("lb4-1", 3, 0, "FaZe", 2, "Vitality", 1, 3)],
},
],
grandFinal: m("gf", 0, 0, "Spirit", 3, "FaZe", 2, 5),
};

<DoubleElimination bracket={bracket} />
`}>
<DoubleEliminationPreview />
</ComponentPreview>

## Installation

```package-install
npx shadcn@latest add https://bracketcore.andrews.sh/r/double-elimination.json
```

## Prerequisites

Define your bracket data with upper bracket rounds, lower bracket rounds, and an optional grand final match.

```tsx
const bracket: DoubleEliminationBracket = {
  type: "double-elimination",
  upper: [
    {
      name: "UB Round 1",
      matches: [
        {
          id: "ub1-1",
          round: 0,
          position: 0,
          bestOf: 3,
          status: "completed",
          teams: [
            { team: { id: "a", name: "Team A" }, score: 2, isWinner: true },
            { team: { id: "b", name: "Team B" }, score: 0, isWinner: false },
          ],
        },
        {
          id: "ub1-2",
          round: 0,
          position: 1,
          bestOf: 3,
          status: "completed",
          teams: [
            { team: { id: "c", name: "Team C" }, score: 1, isWinner: false },
            { team: { id: "d", name: "Team D" }, score: 2, isWinner: true },
          ],
        },
      ],
    },
    {
      name: "UB Final",
      matches: [
        {
          id: "ub2-1",
          round: 1,
          position: 0,
          bestOf: 3,
          status: "completed",
          teams: [
            { team: { id: "a", name: "Team A" }, score: 2, isWinner: true },
            { team: { id: "d", name: "Team D" }, score: 1, isWinner: false },
          ],
        },
      ],
    },
  ],
  lower: [
    {
      name: "LB Round 1",
      matches: [
        {
          id: "lb1-1",
          round: 0,
          position: 0,
          bestOf: 3,
          status: "completed",
          teams: [
            { team: { id: "b", name: "Team B" }, score: 0, isWinner: false },
            { team: { id: "c", name: "Team C" }, score: 2, isWinner: true },
          ],
        },
      ],
    },
    {
      name: "LB Final",
      matches: [
        {
          id: "lb2-1",
          round: 1,
          position: 0,
          bestOf: 3,
          status: "completed",
          teams: [
            { team: { id: "d", name: "Team D" }, score: 2, isWinner: true },
            { team: { id: "c", name: "Team C" }, score: 0, isWinner: false },
          ],
        },
      ],
    },
  ],
  grandFinal: {
    id: "gf",
    round: 0,
    position: 0,
    bestOf: 5,
    status: "completed",
    teams: [
      { team: { id: "a", name: "Team A" }, score: 3, isWinner: true },
      { team: { id: "d", name: "Team D" }, score: 1, isWinner: false },
    ],
  },
};
```

## Usage

```tsx
import { DoubleElimination, type DoubleEliminationBracket } from "@bracketcore/registry";
```

```tsx
<DoubleElimination bracket={bracket} />
```

## Examples

### Ratio 2

Lower bracket has twice as many rounds as the upper bracket. Upper bracket columns automatically space out to stay aligned with the lower bracket.

<ComponentPreview code={`const bracketRatio2: DoubleEliminationBracket = {
  type: "double-elimination",
  upper: [
    {
      name: "UB Round 1",
      matches: [
        m("r2-ub1-1", 0, 0, "Team Liquid", 2, "OG", 1, 3),
        m("r2-ub1-2", 0, 1, "PSG.LGD", 2, "Evil Geniuses", 0, 3),
        m("r2-ub1-3", 0, 2, "Tundra", 1, "Team Spirit", 2, 3),
        m("r2-ub1-4", 0, 3, "Gaimin Gladiators", 0, "BetBoom", 2, 3),
      ],
    },
    {
      name: "UB Semi-final",
      matches: [
        m("r2-ub2-1", 1, 0, "Team Liquid", 2, "PSG.LGD", 0, 3),
        m("r2-ub2-2", 1, 1, "Team Spirit", 1, "BetBoom", 2, 3),
      ],
    },
    {
      name: "UB Final",
      matches: [m("r2-ub3-1", 2, 0, "Team Liquid", 2, "BetBoom", 1, 3)],
    },
  ],
  lower: [
    {
      name: "LB Round 1",
      matches: [
        m("r2-lb1-1", 0, 0, "OG", 2, "Fnatic", 1, 3),
        m("r2-lb1-2", 0, 1, "Evil Geniuses", 0, "Talon", 2, 3),
        m("r2-lb1-3", 0, 2, "Tundra", 2, "Thunder Awaken", 1, 3),
        m("r2-lb1-4", 0, 3, "Gaimin Gladiators", 2, "Alliance", 0, 3),
      ],
    },
    {
      name: "LB Round 2",
      matches: [
        m("r2-lb2-1", 1, 0, "OG", 2, "Talon", 1, 3),
        m("r2-lb2-2", 1, 1, "Tundra", 0, "Gaimin Gladiators", 2, 3),
      ],
    },
    {
      name: "LB Round 3",
      matches: [
        m("r2-lb3-1", 2, 0, "OG", 2, "PSG.LGD", 1, 3),
        m("r2-lb3-2", 2, 1, "Gaimin Gladiators", 1, "Team Spirit", 2, 3),
      ],
    },
    {
      name: "LB Round 4",
      matches: [m("r2-lb4-1", 3, 0, "OG", 2, "Team Spirit", 1, 3)],
    },
    {
      name: "LB Final",
      matches: [m("r2-lb5-1", 4, 0, "OG", 2, "BetBoom", 1, 3)],
    },
  ],
  grandFinal: m("r2-gf", 0, 0, "Team Liquid", 3, "OG", 1, 5),
};

<DoubleElimination bracket={bracketRatio2} />
`}>
<DoubleEliminationRatio2 />
</ComponentPreview>

### Lower Bracket Starts First

Use the `ubAlignToLBRound` prop to start the upper bracket at a specific lower bracket round index. This is useful when the lower bracket has preliminary rounds (e.g. losers from a previous stage) before the upper bracket losers drop down.

<ComponentPreview code={`const bracketLBStartsEarlier: DoubleEliminationBracket = {
  type: "double-elimination",
  upper: [
    {
      name: "UB Round 1",
      matches: [
        m("ub1-1", 0, 0, "Team Liquid", 2, "OG", 1, 3),
        m("ub1-2", 0, 1, "Evil Geniuses", 2, "Team Secret", 0, 3),
        m("ub1-3", 0, 2, "NaVi", 2, "Virtus.pro", 0, 3),
        m("ub1-4", 0, 3, "LGD", 2, "Invictus Gaming", 1, 3),
      ],
    },
    {
      name: "UB Round 2",
      matches: [
        m("ub2-1", 1, 0, "Team Liquid", 2, "Evil Geniuses", 1, 3),
        m("ub2-2", 1, 1, "NaVi", 0, "LGD", 2, 3),
      ],
    },
    {
      name: "UB Final",
      matches: [m("ub3-1", 2, 0, "Team Liquid", 2, "LGD", 1, 3)],
    },
  ],
  lower: [
    {
      name: "LB Round 1",
      matches: [
        m("lb1-1", 0, 0, "Vici Gaming", 2, "Fnatic", 0, 3),
        m("lb1-2", 0, 1, "Alliance", 1, "Team Spirit", 2, 3),
        m("lb1-3", 0, 2, "Tundra Esports", 2, "Gaimin Gladiators", 0, 3),
        m("lb1-4", 0, 3, "LGD Gaming", 2, "Cloud9", 0, 3),
      ],
    },
    {
      name: "LB Round 2",
      matches: [
        m("lb2-1", 1, 0, "Vici Gaming", 2, "OG", 1, 3),
        m("lb2-2", 1, 1, "Team Spirit", 2, "Team Secret", 1, 3),
        m("lb2-3", 1, 2, "Tundra Esports", 2, "Virtus.pro", 1, 3),
        m("lb2-4", 1, 3, "LGD Gaming", 2, "Invictus Gaming", 1, 3),
      ],
    },
    {
      name: "LB Round 3",
      matches: [
        m("lb3-1", 2, 0, "Vici Gaming", 2, "Team Spirit", 1, 3),
        m("lb3-2", 2, 1, "Tundra Esports", 2, "LGD Gaming", 0, 3),
      ],
    },
    {
      name: "LB Round 4",
      matches: [
        m("lb4-1", 3, 0, "Vici Gaming", 2, "Evil Geniuses", 1, 3),
        m("lb4-2", 3, 1, "Tundra Esports", 2, "NaVi", 1, 3),
      ],
    },
    {
      name: "LB Semi-final",
      matches: [m("lb5-1", 4, 0, "Vici Gaming", 2, "Tundra Esports", 1, 3)],
    },
    {
      name: "LB Final",
      matches: [m("lb6-1", 5, 0, "Vici Gaming", 3, "LGD", 2, 5)],
    },
  ],
  grandFinal: m("gf", 0, 0, "Team Liquid", 3, "Vici Gaming", 1, 5),
};

<DoubleElimination bracket={bracketLBStartsEarlier} ubAlignToLBRound={1} />
`}>
<DoubleEliminationLBStartsEarlier />
</ComponentPreview>

## Connector Styles

You can customize the connector style using the `connectorStyle` prop. Available options are `default` (standard bracket lines) and `simple` (squared lines).

### Simple Style

Use the `connectorStyle="simple"` prop to switch from standard curved/merged lines to squared-off, direct lines. This style features distinct paths for each match feed and "stub" connectors for drops from the Upper Bracket.

<ComponentPreview
  code={`<DoubleElimination bracket={bracket} connectorStyle="simple" />
`}
>
  <DoubleEliminationSimplePreview />
</ComponentPreview>

## Props

### `DoubleElimination`

| Prop               | Type                       | Description                                                                                    |
| ------------------ | -------------------------- | ---------------------------------------------------------------------------------------------- |
| `bracket`          | `DoubleEliminationBracket` | The bracket data with upper, lower, and optional grand final.                                  |
| `className`        | `string`                   | Additional CSS classes for the root element.                                                   |
| `onMatchClick`     | `(match: Match) => void`   | Callback fired when a match card is clicked.                                                   |
| `ubAlignToLBRound` | `number`                   | Lower bracket round index where the upper bracket starts. Defaults to `0`.                     |
| `connectorStyle`   | `"default" \| "simple"`    | Connector line style. `"default"` uses curved/merged lines, `"simple"` uses squared-off lines. |

### `DoubleEliminationBracket`

```ts
interface DoubleEliminationBracket {
  type: "double-elimination";
  upper: Round[];
  lower: Round[];
  grandFinal?: Match;
}
```

### `Round`

```ts
interface Round {
  name: string;
  matches: Match[];
}
```

### `Match`

```ts
interface Match {
  id: string;
  round: number;
  position: number;
  bestOf?: number;
  scheduledAt?: Date | string;
  status?: "upcoming" | "live" | "completed";
  teams: [MatchTeam, MatchTeam];
}
```

### `MatchTeam`

```ts
interface MatchTeam {
  team: Team | null;
  score: number;
  isWinner?: boolean;
}
```

### `Team`

```ts
interface Team {
  id: string;
  name: string;
  logo?: string;
  seed?: number;
}
```

## How It Works

The component places **every match and connector on a single CSS Grid**. This means:

- The Grand Final card naturally centers between the UB and LB finals without midpoint hacks
- All matches share the same row coordinate system, so alignment is guaranteed
- Connectors are SVG elements placed at explicit grid positions

## Sizing

Uses the same CSS custom properties as other bracket components:

| Property                 | Default               | Description                        |
| ------------------------ | --------------------- | ---------------------------------- |
| `--bracket-match-width`  | `11rem`               | Width of each match card.          |
| `--bracket-match-height` | `calc(3.25rem + 1px)` | Height of each match card.         |
| `--bracket-round-gap`    | `3rem`                | Horizontal gap between rounds.     |
| `--bracket-match-gap`    | `1rem`                | Base vertical gap between matches. |

## Theming

All colors use your shadcn theme variables directly (`--card`, `--border`, `--card-foreground`, `--muted-foreground`, `--primary`). No extra configuration needed.
